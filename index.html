<!DOCTYPE html>
<html>
  <head>
  <link rel="manifest" href="manifest.json">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="application-name" content="AndCal">
  <meta name="apple-mobile-web-app-title" content="AndCal">
  <meta name="theme-color" content="#0275d8">
  <meta name="msapplication-navbutton-color" content="#0275d8">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="msapplication-starturl" content="https://flow-randd.github.io/DeliveryCalendarAndroid/">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
  //<meta name="google-signin-client_id" content="[CLIENT ID].apps.googleusercontent.com">
  
  <base target="_top">
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
    <style> 
      h5 {color: grey}
      body {height: 90%}
      div {width: 90%;
       float: right}
    </style>
  </head>

  <body>
  <header><marquee><h3>Send email to:</h3></marquee></header>
    <div>
    <h5>Please select all email receipients, if you are just providing an update to the Calendar Event, leave blank </h5>
      
  //<form action="https://script.googleapis.com/v1/scripts/[SCRIPT ID]:run" method="post">
    
    Sales Person: <input type="checkbox" id="0" name="Sales"><p>
    Production: <input type="checkbox" id="1" name="Production"><p>
    Charlie: <input type="checkbox" id="2" name="Charlie"><p>
    Sales PC: <input type="checkbox" id="3" name="SalesPC"><p>
    Customer: <input type="checkbox" id="4" name="Customer"><p>
    
    <button class="action" onclick="myFunction()">Try it</button>    
    <button class="Close" onclick="uncheckAll()">Clear</button>
    <input type="submit" value="Submit">
    <div class="g-signin2" data-onsuccess="onSignIn"></div>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    
        <script>
        function myFunction(){          
          var idArry = [];
          var labArry = [];
          for(var i = 0; i<=4; i++){
            var id = document.getElementById(i).checked;
            
            idArry[i] = id;
            if(id == true){
              var label = document.getElementById(i).name;
              labArry.push(label);
            }
          }
          alert(labArry);
          
          //GAS Fulfillment here
          //POST https://script.googleapis.com/v1/scripts/[SCRIPT ID]:run
          
          //google.script.run
          //.withSuccessHandler(google.script.host.close)
          //.checkBoxReturn(idArry, labArry);
        }
        
        function uncheckAll(){
        $('input[type="checkbox"]:checked').prop('checked',false);
        }
        </script>
    </div>
    //</form>
  </body>
</html>
